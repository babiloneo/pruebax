/*!
 * ============================================================================
 *   CONVERGENCE LAB., LG ELECTRONICS INC., SEOUL, KOREA                       
 *   Copyright(c) 2012 by LG Electronics Inc.                                  
 *                                                                             
 *   Release Version : 1.5.0.2699                              
 * ============================================================================
 */
var hcap;if(hcap===undefined){(function(){hcap={API_VERSION:"1.5.0.2699"};var b={};var m=[];var k=false;var g=function(v,o){var p=0,n="",r=[],u="",t="",s="";for(n in o){if(o.hasOwnProperty(n)){r.push(n)}}r.sort();for(p=0;p<r.length;p++){n=r[p];try{t=o[n];s=typeof t}catch(q){t="<unknown value>";s="unknown"}if(s==="function"){t="{/*source code suppressed*/}"}u+=n+" : "+t;if(p<r.length-1){u+=", "}}return"\n"+v+" -> "+u};b.on_event_received=function(r,q){var p="";if(k){console.log("event = "+r);console.log(g("event",q))}var o=r;var n=document.createEvent("HTMLEvents");n.initEvent(o,true,false);for(p in q){if(q.hasOwnProperty(p)){n[p]=q[p]}}document.dispatchEvent(n)};var e={};var d=0;var i=null;var l=false;var h=null;var a=[];var c=function(){e={};d=0;i=new WebSocket("ws://127.0.0.1:8053/hcap_command");i.onopen=function(){if(k){console.log("\nwebsocket : onopen")}l=true;h("get_debug_mode",{onSuccess:function(n){k=n.enable_log},onFailure:null});var o,q,p;for(o=0,q=a.length;o<q;o++){p=a[o];h(p.command,p.param)}p=null};i.onmessage=function(n){var p=n.data,t=JSON.parse(p);if(k){console.log("\nreceive message : "+p)}var o=t.command_id;var s=t.command;var r=t.result;if(o==="event"){if(s==="debug_event_received"){k=t.enable_log}else{b.on_event_received(s,t)}}else{if(e.hasOwnProperty(o)){var q=e[o];delete e[o];if(r){if(q.success){q.success(t)}}else{if(q.failure){q.failure(t)}}}else{console.log("\ninvalid response from server")}}};i.onclose=function(){if(k){console.log("\nwebsocket : onclose")}l=false}};c();var j=function(q,p){if(!l){if(k){console.log("\nwebsocket is not opened. try to initialize websocket")}c();return}d++;var n=d.toString();e[n]={success:p.onSuccess,failure:p.onFailure};p.command_id=n;var o=JSON.stringify(p,null);i.send(o)};h=function(o,n){if(o===null||o===""||n===null){return}n.command=o;if(k){console.log(g(n.command,n))}if(l){j(o,n)}else{a[a.length]={command:o,param:n}}};hcap.preloadedApplication={};hcap.preloadedApplication.getPreloadedApplicationList=function(n){h("get_preloaded_application_list",n)};hcap.preloadedApplication.launchPreloadedApplication=function(n){h("launch_preloaded_application",n)};hcap.video={};hcap.video.getVideoSize=function(n){h("get_video_size",n)};hcap.video.setVideoSize=function(n){h("set_video_size",n)};hcap.video.getOsdTransparencyLevel=function(n){h("get_osd_transparency_level",n)};hcap.video.setOsdTransparencyLevel=function(n){h("set_osd_transparency_level",n)};hcap.video.isVideoMute=function(n){h("get_video_mute",n)};hcap.video.setVideoMute=function(n){h("set_video_mute",n)};hcap.volume={};hcap.volume.getVolumeLevel=function(n){h("get_volume_level",n)};hcap.volume.setVolumeLevel=function(n){h("set_volume_level",n)};hcap.channel={};hcap.channel.NO_STREAM_PID=8191;hcap.channel.ChannelType={UNKNOWN:0,RF:1,IP:2,RF_DATA:3,IP_DATA:4};hcap.channel.RfBroadcastType={UNKNOWN:0,TERRESTRIAL:16,SATELLITE:32,CABLE:48,CABLE_STD:49,CABLE_HRC:50,CABLE_IRC:51};hcap.channel.IpBroadcastType={UNKNOWN:0,UDP:16,RTP:32};hcap.channel.VideoStreamType={MPEG1:1,MPEG2:2,MPEG4_VISUAL:16,MPEG4_AVC_H264:27,AVS:66};hcap.channel.AudioStreamType={MPEG1:3,MPEG2:4,MPEG2_AAC:15,MPEG4_HEAAC:17,AC3:129,EAC3:130,ANALOG_BG:256,ANALOG_I:257,ANALOG_DK:258,ANALOG_L:259,ANALOG_MN:260,ANALOG_LP:261,ANALOG_END:262};hcap.channel.requestChangeCurrentChannel=function(n){h("request_channel_change",n)};hcap.channel.getCurrentChannel=function(n){h("get_current_channel",n)};hcap.channel.replayCurrentChannel=function(n){h("replay_current_channel",n)};hcap.channel.stopCurrentChannel=function(n){h("stop_current_channel",n)};hcap.channel.getDataChannel=function(n){h("get_data_channel",n)};hcap.channel.getStartChannel=function(n){h("get_start_channel",n)};hcap.channel.setStartChannel=function(n){h("set_start_channel",n)};hcap.channel.getCurrentChannelAudioLanguageList=function(n){h("get_current_channel_audio_language_list",n)};hcap.channel.getCurrentChannelAudioLanguageIndex=function(n){h("get_current_channel_audio_language_index",n)};hcap.channel.setCurrentChannelAudioLanguageIndex=function(n){h("set_current_channel_audio_language_index",n)};hcap.channel.getCurrentChannelSubtitleList=function(n){h("get_current_channel_subtitle_language_list",n)};hcap.channel.getCurrentChannelSubtitleIndex=function(n){h("get_current_channel_subtitle_language_index",n)};hcap.channel.setCurrentChannelSubtitleIndex=function(n){h("set_current_channel_subtitle_language_index",n)};hcap.channel.getProgramInfo=function(n){h("get_program_info",n)};hcap.externalinput={};hcap.externalinput.ExternalInputType={TV:1,COMPOSITE:2,SVIDEO:3,COMPONENT:4,RGB:5,HDMI:6,SCART:7,USB:8,OTHERS:9};hcap.externalinput.getCurrentExternalInput=function(n){h("get_external_input",n)};hcap.externalinput.setCurrentExternalInput=function(n){h("set_external_input",n)};hcap.externalinput.isExternalInputConnected=function(n){h("check_external_input_connected",n)};hcap.carousel={};hcap.carousel.requestCacheCarouselData=function(n){h("request_content",n)};hcap.carousel.isCarouselDataCached=function(n){h("is_content_loaded",n)};hcap.carousel.clearCarouselDataCache=function(n){h("clear_content_cache",n)};hcap.mpi={};hcap.mpi.sendAndReceiveMpiData=function(n){h("send_and_receive_mpi_data",n)};hcap.mpi.sendMpiData=function(n){h("send_mpi_data",n)};hcap.power={};hcap.power.PowerMode={WARM:2,NORMAL:1};hcap.power.getPowerMode=function(n){h("get_power_mode",n)};hcap.power.setPowerMode=function(n){h("set_power_mode",n)};hcap.power.powerOff=function(n){h("power_off",n)};hcap.power.reboot=function(n){h("reboot",n)};hcap.time={};hcap.time.setLocalTime=function(n){h("set_tv_localtime",n)};hcap.time.getPowerOffTimer=function(n){h("get_power_off_timer_in_min",n)};hcap.time.setPowerOffTimer=function(n){h("set_power_off_timer_in_min",n)};hcap.time.getPowerOnTime=function(n){h("get_power_on_time",n)};hcap.time.setPowerOnTime=function(n){h("set_power_on_time",n)};hcap.time.getAlarmInformation=function(n){h("get_alarm_information",n)};hcap.time.setAlarmInformation=function(n){h("set_alarm_information",n)};hcap.network={};hcap.network.getNumberOfNetworkDevices=function(n){h("get_number_of_network_devices",n)};hcap.network.getNetworkDevice=function(n){h("get_network_device",n)};hcap.network.ping=function(n){h("ping",n)};hcap.mode={};hcap.mode.HCAP_MODE_0=257;hcap.mode.HCAP_MODE_1=258;hcap.mode.HCAP_MODE_2=259;hcap.mode.HCAP_MODE_3=260;hcap.mode.HCAP_MODE_4=261;hcap.mode.getHcapMode=function(n){h("get_mw_mode",n)};hcap.mode.setHcapMode=function(n){h("set_mw_mode",n)};hcap.key={};hcap.key.Code={NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52,NUM_5:53,NUM_6:54,NUM_7:55,NUM_8:56,NUM_9:57,CH_UP:427,CH_DOWN:428,GUIDE:458,INFO:457,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,BACK:461,EXIT:1001,RED:403,GREEN:404,YELLOW:405,BLUE:406,STOP:413,PLAY:415,PAUSE:19,REWIND:412,FAST_FORWARD:417,LAST_CH:711,PORTAL:602,ORDER:623,MINUS:704,POWER:409,VOL_UP:447,VOL_DOWN:448,MUTE:449,RECORD:416,PAGE_UP:33,PAGE_DOWN:34,RF_BYPASS:29,NEXT_DAY:425,PREV_DAY:424,APPS:93,LINK:606,FORWARD:167,ZOOM:251,SETTINGS:611,NEXT_FAV_CH:176,RES_1:112,RES_2:113,RES_3:114,RES_4:115,RES_5:116,RES_6:117,LOCK:619,SKIP:620,LIST:1006,LIVE:622,ON_DEMAND:623,PINP_MOVE:624,PINP_UP:625,PINP_DOWN:626,MENU:18,AD:700,ALARM:701,AV_MODE:31,SUBTITLE:460,DISC_POWER_OFF:705,DISC_POWER_ON:706,DVD:707,EJECT:414,ENERGY_SAVING:709,FAV:710,FLASHBK:711,INPUT:712,MARK:713,NETCAST:1000,PIP:715,PIP_CH_DOWN:716,PIP_CH_UP:717,PIP_INPUT:718,PIP_SWAP:719,Q_MENU:1002,Q_VIEW:1007,RATIO:1005,SAP:723,SIMPLINK:724,STB:725,T_OPT:1004,TEXT:459,SLEEP_TIMER:729,TV:730,TV_RAD:731,VCR:732,POWER_LOWBATTERY:733};m[hcap.key.Code.CH_DOWN]=hcap.key.Code.CH_DOWN;m[hcap.key.Code.CH_UP]=hcap.key.Code.CH_UP;m[hcap.key.Code.MINUS]=45;m[hcap.key.Code.NUM_0]=hcap.key.Code.NUM_0;m[hcap.key.Code.NUM_1]=hcap.key.Code.NUM_1;m[hcap.key.Code.NUM_2]=hcap.key.Code.NUM_2;m[hcap.key.Code.NUM_3]=hcap.key.Code.NUM_3;m[hcap.key.Code.NUM_4]=hcap.key.Code.NUM_4;m[hcap.key.Code.NUM_5]=hcap.key.Code.NUM_5;m[hcap.key.Code.NUM_6]=hcap.key.Code.NUM_6;m[hcap.key.Code.NUM_7]=hcap.key.Code.NUM_7;m[hcap.key.Code.NUM_8]=hcap.key.Code.NUM_8;m[hcap.key.Code.NUM_9]=hcap.key.Code.NUM_9;m[hcap.key.Code.UP]=hcap.key.Code.UP;m[hcap.key.Code.DOWN]=hcap.key.Code.DOWN;m[hcap.key.Code.LEFT]=hcap.key.Code.LEFT;m[hcap.key.Code.RIGHT]=hcap.key.Code.RIGHT;m[hcap.key.Code.ENTER]=10;m[hcap.key.Code.VOL_DOWN]=hcap.key.Code.VOL_DOWN;m[hcap.key.Code.VOL_UP]=hcap.key.Code.VOL_UP;m[hcap.key.Code.MUTE]=hcap.key.Code.MUTE;m[hcap.key.Code.PAUSE]=hcap.key.Code.PAUSE;m[hcap.key.Code.PLAY]=hcap.key.Code.PLAY;m[hcap.key.Code.STOP]=hcap.key.Code.STOP;m[hcap.key.Code.RECORD]=hcap.key.Code.RECORD;m[hcap.key.Code.FAST_FORWARD]=hcap.key.Code.FAST_FORWARD;m[hcap.key.Code.REWIND]=hcap.key.Code.REWIND;m[hcap.key.Code.GUIDE]=hcap.key.Code.GUIDE;m[hcap.key.Code.INFO]=hcap.key.Code.INFO;m[hcap.key.Code.RED]=hcap.key.Code.RED;m[hcap.key.Code.GREEN]=hcap.key.Code.GREEN;m[hcap.key.Code.YELLOW]=hcap.key.Code.YELLOW;m[hcap.key.Code.BLUE]=hcap.key.Code.BLUE;m[hcap.key.Code.PAGE_UP]=hcap.key.Code.PAGE_UP;m[hcap.key.Code.PAGE_DOWN]=hcap.key.Code.PAGE_DOWN;m[hcap.key.Code.RF_BYPASS]=600;m[hcap.key.Code.EXIT]=601;m[hcap.key.Code.PORTAL]=hcap.key.Code.PORTAL;m[hcap.key.Code.NEXT_DAY]=603;m[hcap.key.Code.PREV_DAY]=604;m[hcap.key.Code.APPS]=605;m[hcap.key.Code.LINK]=hcap.key.Code.LINK;m[hcap.key.Code.LAST_CH]=607;m[hcap.key.Code.BACK]=608;m[hcap.key.Code.FORWARD]=417;m[hcap.key.Code.ZOOM]=610;m[hcap.key.Code.SETTINGS]=hcap.key.Code.SETTINGS;m[hcap.key.Code.NEXT_FAV_CH]=612;m[hcap.key.Code.RES_1]=613;m[hcap.key.Code.RES_2]=614;m[hcap.key.Code.RES_3]=615;m[hcap.key.Code.RES_4]=616;m[hcap.key.Code.RES_5]=617;m[hcap.key.Code.RES_6]=618;m[hcap.key.Code.LOCK]=hcap.key.Code.LOCK;m[hcap.key.Code.SKIP]=hcap.key.Code.SKIP;m[hcap.key.Code.LIST]=621;m[hcap.key.Code.LIVE]=hcap.key.Code.LIVE;m[hcap.key.Code.ON_DEMAND]=hcap.key.Code.ON_DEMAND;m[hcap.key.Code.PINP_MOVE]=hcap.key.Code.PINP_MOVE;m[hcap.key.Code.PINP_UP]=hcap.key.Code.PINP_UP;m[hcap.key.Code.PINP_DOWN]=hcap.key.Code.PINP_DOWN;m[hcap.key.Code.MENU]=627;m[hcap.key.Code.AD]=hcap.key.Code.AD;m[hcap.key.Code.ALARM]=hcap.key.Code.ALARM;m[hcap.key.Code.AV_MODE]=702;m[hcap.key.Code.SUBTITLE]=703;m[hcap.key.Code.DISC_POWER_OFF]=hcap.key.Code.DISC_POWER_OFF;m[hcap.key.Code.DISC_POWER_ON]=hcap.key.Code.DISC_POWER_ON;m[hcap.key.Code.DVD]=hcap.key.Code.DVD;m[hcap.key.Code.EJECT]=708;m[hcap.key.Code.ENERGY_SAVING]=hcap.key.Code.ENERGY_SAVING;m[hcap.key.Code.FAV]=hcap.key.Code.FAV;m[hcap.key.Code.FLASHBK]=hcap.key.Code.FLASHBK;m[hcap.key.Code.INPUT]=hcap.key.Code.INPUT;m[hcap.key.Code.MARK]=hcap.key.Code.MARK;m[hcap.key.Code.NETCAST]=714;m[hcap.key.Code.PIP]=hcap.key.Code.PIP;m[hcap.key.Code.PIP_CH_DOWN]=hcap.key.Code.PIP_CH_DOWN;m[hcap.key.Code.PIP_CH_UP]=hcap.key.Code.PIP_CH_UP;m[hcap.key.Code.PIP_INPUT]=hcap.key.Code.PIP_INPUT;m[hcap.key.Code.PIP_SWAP]=hcap.key.Code.PIP_SWAP;m[hcap.key.Code.Q_MENU]=720;m[hcap.key.Code.Q_VIEW]=721;m[hcap.key.Code.RATIO]=722;m[hcap.key.Code.SAP]=hcap.key.Code.SAP;m[hcap.key.Code.SIMPLINK]=hcap.key.Code.SIMPLINK;m[hcap.key.Code.STB]=hcap.key.Code.STB;m[hcap.key.Code.T_OPT]=727;m[hcap.key.Code.TEXT]=728;m[hcap.key.Code.SLEEP_TIMER]=hcap.key.Code.SLEEP_TIMER;m[hcap.key.Code.TV]=hcap.key.Code.TV;m[hcap.key.Code.TV_RAD]=hcap.key.Code.TV_RAD;m[hcap.key.Code.VCR]=hcap.key.Code.VCR;m[hcap.key.Code.POWER_LOWBATTERY]=hcap.key.Code.POWER_LOWBATTERY;m[hcap.key.Code.POWER]=hcap.key.Code.POWER;m[hcap.key.Code.ORDER]=hcap.key.Code.ORDER;m[hcap.key.Code.LAST_CH]=607;hcap.key.addKeyItem=function(n){n.virtualKeycode=m[n.virtualKeycode];h("add_key_item",n)};hcap.key.removeKeyItem=function(n){h("remove_key_item",n)};hcap.key.clearKeyTable=function(n){h("clear_key_table",n)};hcap.key.sendKey=function(n){n.virtualKeycode=m[n.virtualKeycode];h("send_key",n)};hcap.mouse={};hcap.mouse.isMouseVisible=function(n){h("get_mouse_visible",n)};hcap.mouse.setMouseVisible=function(n){h("set_mouse_visible",n)};hcap.property={};hcap.property.getProperty=function(n){h("get_property",n)};hcap.property.setProperty=function(n){h("set_property",n)};hcap.Media=function(){};var f=null;hcap.Media.createMedia=function(n){if(n===null){return f}else{if(f===null&&n.url!==null&&n.mimeType!==null){f=new hcap.Media();h("media_create_media",n);return f}}return null};hcap.Media.prototype.play=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_play",n)};hcap.Media.prototype.pause=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_pause",n)};hcap.Media.prototype.stop=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_stop",n)};hcap.Media.prototype.destroy=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_destroy",n);f=null};hcap.Media.prototype.getInformation=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_get_information",n)};hcap.Media.prototype.getPlayPosition=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_get_play_position",n)};hcap.Media.prototype.setPlayPosition=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_set_play_position",n)};hcap.Media.prototype.getPlaySpeed=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_get_play_speed",n)};hcap.Media.prototype.setPlaySpeed=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_set_play_speed",n)};hcap.Media.prototype.getState=function(n){if(f===null){n.onFailure({errorMessage:"already destroyed."});return}h("media_get_state",n)}}())};